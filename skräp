<div id="mainContainer" >
    <div id="gameContainer">

        <div class="row">
            <div  class="pluppR" row='1' col='13'></div>
        </div>
        <div class="row">
            <div  class="pluppR" row='2' col='12'></div>
            <div  class="pluppR" row='2' col='14'></div>
        </div>
        <div class="row">
            <div  class="pluppR" row='3' col='11'></div>
            <div  class="pluppR" row='3' col='13'></div>
            <div  class="pluppR" row='3' col='15'></div>
        </div>
        <div class="row">
            <div  class="pluppR" row='4' col='10'></div>
            <div  class="pluppR" row='4' col='12'></div>
            <div  class="pluppR" row='4' col='14'></div>
            <div  class="pluppR" row='4' col='16'></div>
        </div>
        <div class="row">
            <div class="plupp" row='5' col='1'></div>
            <div class="plupp" row='5' col='3'></div>
            <div class="plupp" row='5' col='5'></div>
            <div class="plupp" row='5' col='7'></div>
            <div class="plupp" row='5' col='9'></div>
            <div class="plupp" row='5' col='11'></div>
            <div class="plupp" row='5' col='13'></div>
            <div class="plupp" row='5' col='15'></div>
            <div class="plupp" row='5' col='17'></div>
            <div class="plupp" row='5' col='19'></div>
            <div class="plupp" row='5' col='21'></div>
            <div class="plupp" row='5' col='23'></div>
            <div class="plupp" row='5' col='25'></div>
        </div>
        <div class="row">
            <div class="plupp" row='6' col='2'></div>
            <div class="plupp" row='6' col='4'></div>
            <div class="plupp" row='6' col='6'></div>
            <div class="plupp" row='6' col='8'></div>
            <div class="plupp" row='6' col='10'></div>
            <div class="plupp" row='6' col='12'></div>
            <div class="plupp" row='6' col='14'></div>
            <div class="plupp" row='6' col='16'></div>
            <div class="plupp" row='6' col='18'></div>
            <div class="plupp" row='6' col='20'></div>
            <div class="plupp" row='6' col='22'></div>
            <div class="plupp" row='6' col='24'></div>
        </div>
        <div class="row">
            <div class="plupp" row='7' col='3'></div>
            <div class="plupp" row='7' col='5'></div>
            <div class="plupp" row='7' col='7'></div>
            <div class="plupp" row='7' col='9'></div>
            <div class="plupp" row='7' col='11'></div>
            <div class="plupp" row='7' col='13'></div>
            <div class="plupp" row='7' col='15'></div>
            <div class="plupp" row='7' col='17'></div>
            <div class="plupp" row='7' col='19'></div>
            <div class="plupp" row='7' col='21'></div>
            <div class="plupp" row='7' col='23'></div>
        </div>
        <div class="row">
            <div class="plupp" row='8' col='4'></div>
            <div class="plupp" row='8' col='6'></div>
            <div class="plupp" row='8' col='8'></div>
            <div class="plupp" row='8' col='10'></div>
            <div class="plupp" row='8' col='12'></div>
            <div class="plupp" row='8' col='14'></div>
            <div class="plupp" row='8' col='16'></div>
            <div class="plupp" row='8' col='18'></div>
            <div class="plupp" row='8' col='20'></div>
            <div class="plupp" row='8' col='22'></div>
        </div>
        <div class="row">
            <div class="plupp" row='9' col='5'></div>
            <div class="plupp" row='9' col='7'></div>
            <div class="plupp" row='9' col='9'></div>
            <div class="plupp" row='9' col='11'></div>
            <div class="plupp" row='9' col='13'></div>
            <div class="plupp" row='9' col='15'></div>
            <div class="plupp" row='9' col='17'></div>
            <div class="plupp" row='9' col='19'></div>
            <div class="plupp" row='9' col='21'></div>
        </div>
        <div class="row">
            <div class="plupp" row='10' col='4'></div>
            <div class="plupp" row='10' col='6'></div>
            <div class="plupp" row='10' col='8'></div>
            <div class="plupp" row='10' col='10'></div>
            <div class="plupp" row='10' col='12'></div>
            <div class="plupp" row='10' col='14'></div>
            <div class="plupp" row='10' col='16'></div>
            <div class="plupp" row='10' col='18'></div>
            <div class="plupp" row='10' col='20'></div>
            <div class="plupp" row='10' col='22'></div>
        </div>
        <div class="row">
            <div class="plupp" row='11' col='3'></div>
            <div class="plupp" row='11' col='5'></div>
            <div class="plupp" row='11' col='7'></div>
            <div class="plupp" row='11' col='9'></div>
            <div class="plupp" row='11' col='11'></div>
            <div class="plupp" row='11' col='13'></div>
            <div class="plupp" row='11' col='15'></div>
            <div class="plupp" row='11' col='17'></div>
            <div class="plupp" row='11' col='19'></div>
            <div class="plupp" row='11' col='21'></div>
            <div class="plupp" row='11' col='23'></div>
        </div>
        <div class="row">
            <div class="plupp" row='12' col='2'></div>
            <div class="plupp" row='12' col='4'></div>
            <div class="plupp" row='12' col='6'></div>
            <div class="plupp" row='12' col='8'></div>
            <div class="plupp" row='12' col='10'></div>
            <div class="plupp" row='12' col='12'></div>
            <div class="plupp" row='12' col='14'></div>
            <div class="plupp" row='12' col='16'></div>
            <div class="plupp" row='12' col='18'></div>
            <div class="plupp" row='12' col='20'></div>
            <div class="plupp" row='12' col='22'></div>
            <div class="plupp" row='12' col='24'></div>
        </div>
        <div class="row">
            <div class="plupp" row='13' col='1'></div>
            <div class="plupp" row='13' col='3'></div>
            <div class="plupp" row='13' col='5'></div>
            <div class="plupp" row='13' col='7'></div>
            <div class="plupp" row='13' col='9'></div>
            <div class="plupp" row='13' col='11'></div>
            <div class="plupp" row='13' col='13'></div>
            <div class="plupp" row='13' col='15'></div>
            <div class="plupp" row='13' col='17'></div>
            <div class="plupp" row='13' col='19'></div>
            <div class="plupp" row='13' col='21'></div>
            <div class="plupp" row='13' col='23'></div>
            <div class="plupp" row='13' col='25'></div>
        </div>
        <div class="row">
            <div  class="pluppB" row='14' col='10'></div>
            <div  class="pluppB" row='14' col='12'></div>
            <div  class="pluppB" row='14' col='14'></div>
            <div  class="pluppB" row='14' col='16'></div>
        </div>
        <div class="row">
            <div  class="pluppB" row='15' col='11'></div>
            <div  class="pluppB" row='15' col='13'></div>
            <div  class="pluppB" row='15' col='15'></div>
        </div>
        <div class="row">
            <div  class="pluppB" row='16' col='12'></div>
            <div  class="pluppB" row='16' col='14'></div>
        </div>
        <div class="row">
            <div  class="pluppB" row='17' col='13'></div>
        </div>
    </div>
</div>




function init() {
    document.getElementById("start").onclick = startGame;
  
    function startGame() {
  
      let vald = null;
  
      let rödArray = Array.from(document.getElementsByClassName('plupp')).filter(div => {
        const rowValue = parseInt(div.getAttribute('row'));
        return rowValue >= 1 && rowValue <= 4;
      });
      let blåArray = Array.from(document.getElementsByClassName('plupp')).filter(div => {
        const rowValue = parseInt(div.getAttribute('row'));
        return rowValue >= 14 && rowValue <= 17;
      });
  
      let oanvändaArray = Array.from(document.getElementsByClassName('plupp')).filter(div => {
        const rowValue = parseInt(div.getAttribute('row'));
        return rowValue >= 5 && rowValue <= 13;
      });
  
      changeBackground(rödArray, "red");
      changeBackground(blåArray, "blue");
      changeBackground(oanvändaArray, "lightgray");
  
      for (var i = 0; i < rödArray.length; i++) {
        (function (i) {
          rödArray[i].addEventListener("click", function () {
            pluppClicked(rödArray[i], i);
          });
        })(i);
      }
  
      for (var i = 0; i < blåArray.length; i++) {
        (function (i) {
          blåArray[i].addEventListener("click", function () {
            pluppClicked(blåArray[i], i);
          });
        })(i);
      }
  
      function changeBackground(Array, color) {
        Array.forEach(div => {
          div.style.backgroundColor = color;
          div.style.border = "none";
          div.style.width = "55px";
        });
      }
  
      function pluppClicked(piece, index) {
        changeBackground(blåArray, "blue");
        changeBackground(rödArray, "red");
        piece.style.border = "2px solid #FFFF00";
        piece.style.width = "51px";
        vald = index;
  
        
          oanvändaArray.forEach((div, i) => {
            div.addEventListener("click", function () {
              flytta(i);
            });
          });
  
        
  
  
      }
  
  
      function flytta(index) {
        let div2 = oanvändaArray.splice(index, 1)[0];
        let divToMove = rödArray.splice(vald, 1)[0];
        rödArray.push(div2);
        oanvändaArray.push(divToMove);
        changeBackground(rödArray, "red");
        changeBackground(oanvändaArray, "lightgray");
        vald = null;
        div2 = null;
        divToMove = null;
        console.log(rödArray);
  
      }
    }
  
  
  }
  window.onload = init;